# .sh/_shrc 20130315 - 20210413
# Copyright (C) 2015-2021 Mark Constable <markc@renta.net> (AGPL-3.0)
#shopt -s expand_aliases

PATH=/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/snap/bin:~/.sh/bin
SUDO=$([ $(id -u) -gt 0 ] && echo 'sudo ')
MHOST=$(hostname -f|tr 'A-Z' 'a-z')
OSTYP=unknown
COLOR=31
LABEL=$(id -un)@$MHOST
EDITOR=nano

# Set the OS type
[ -f /etc/os-release ] && OSTYP=$(awk -F= '/^ID=/ {print $2}' /etc/os-release)

# Local custom aliases and env var overrides
[ -f ~/.myrc ] && . ~/.myrc

# Import global aliases
[ -f ~/.sh/lib/aliases ] && . ~/.sh/lib/aliases

# Import managed env vars
[ -f ~/.sh/lib/functions ] && . ~/.sh/lib/functions

if [ -f ~/.vhosts/$MHOST ]; then
    . ~/.vhosts/$MHOST
else
    sethost $MHOST
fi

PS1="\[\033[1;${COLOR}m\]${LABEL} \w\[\033[0m\] "

export PATH SUDO MAILTO EDITOR COLOR LABEL PS1

export ADMIN AHOST AMAIL ANAME APASS A_GID A_UID BPATH CIMAP CSMTP C_DNS
export C_FPM C_SQL C_SSL C_WEB DBMYS DBSQL DHOST DNAME DPASS DPATH DPORT
export DTYPE DUSER EPASS EXMYS EXSQL HNAME HDOMN IP4_0 LROOT MHOST MPATH
export OSMIR OSREL OSTYP SQCMD SQDNS TAREA TCITY UPASS UPATH UUSER U_GID
export U_SHL U_UID VHOST VPATH VUSER V_PHP WPASS WPATH WPUSR
